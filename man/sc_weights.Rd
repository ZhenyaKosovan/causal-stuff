% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sc.R
\name{sc_weights}
\alias{sc_weights}
\title{Synthetic Control donor weights (projected gradient on simplex)}
\usage{
sc_weights(X, y, lambda = 0.001, maxit = 5000L, tol = 1e-08)

sc_weights(X, y, lambda = 0.001, maxit = 5000L, tol = 1e-08)
}
\arguments{
\item{X}{matrix: donors-by-T (pre periods)}

\item{y}{vector length T: treated pre path (or treated-group average)}

\item{lambda}{ridge penalty (>=0)}

\item{maxit}{iterations}

\item{tol}{tolerance for relative improvement}

\item{Z}{optional matrix: donors-by-P covariates (e.g., \strong{pre-window means} of GDP growth, CPI, ...)}

\item{z}{optional vector length P: treated-group covariate target (same construction as Z)}

\item{cov_penalty}{nonnegative scalar controlling the strength of covariate balancing}
}
\value{
numeric vector of donor weights (nonnegative, sum to 1)

numeric vector of donor weights (nonnegative, sum to 1)
}
\description{
Supports optional \strong{covariate balancing}: penalize mismatch between
donor-weighted covariates Z \%*\% w and treated covariate target \code{z}.
}
\details{
Objective: 0.5||Xw - y||^2 + 0.5\emph{cov_penalty||Zw - z||^2 + 0.5}lambda||w||^2,
subject to w >= 0, sum(w) = 1.
}
