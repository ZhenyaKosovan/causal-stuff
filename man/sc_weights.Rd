% Generated by hand because roxygen2 is unavailable in this environment
\name{sc_weights}
\alias{sc_weights}
\title{Synthetic Control donor weights (projected gradient on simplex)}
\usage{
sc_weights(
  X,
  y,
  Z = NULL,
  z = NULL,
  cov_penalty = 0,
  lambda = 0.001,
  maxit = 5000L,
  tol = 1e-08
)
}
\arguments{
\item{X}{Numeric matrix with donors on the rows and pre-treatment periods on the columns.}

\item{y}{Numeric vector of length equal to \code{ncol(X)} representing the treated pre-treatment trajectory.}

\item{Z}{Optional donor-by-covariate matrix used for covariate balancing.}

\item{z}{Optional covariate target vector matching the columns of \code{Z}.}

\item{cov_penalty}{Non-negative scalar controlling the strength of the covariate balancing term.}

\item{lambda}{Ridge penalty (\eqn{\ge 0}) applied to donor weights.}

\item{maxit}{Maximum projected gradient iterations.}

\item{tol}{Relative improvement tolerance.}
}
\value{
Numeric vector of donor weights (non-negative and summing to one).
}
\description{
Projected-gradient solver for the synthetic control donor simplex with optional
covariate balancing.
}
\details{
The optimizer minimizes
\deqn{0.5||Xw - y||^2 + 0.5\,\text{cov\_penalty}||Zw - z||^2 + 0.5\,\lambda||w||^2}
subject to \eqn{w \ge 0} and \eqn{\sum_i w_i = 1}. With \code{cov_penalty = 0}
the method reduces to standard synthetic control weights.
}
